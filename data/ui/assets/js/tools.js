var mParam={};var mServerUrl="http://client.cowflow.com/";var mDataDir="";var mLan="zh";var mCodeName="";var mCodeValue="";var mIDBox="";var mID="";var nowPage="";function nocontextmenu(){event.cancelBubble=true;event.returnValue=false;return false}function norightclick(a){if(window.Event){if(a.which==2||a.which==3){return false}}else{if(event.button==2||event.button==3){event.cancelBubble=true;event.returnValue=false;return false}}}function norightmenu(){if(window.Event){document.captureEvents(Event.MOUSEUP)}document.oncontextmenu=nocontextmenu;document.onmousedown=norightclick}function pageInit(a){a=a?a:".page-content";$("#main").i18n();$("button").tooltip();$("form").submit(function(b){return false})}function pbox(c){var a="mbox_page";var b='<br><div id="'+a+'">loading..</div><script>$("#mbox_page").load(\''+c+".html?_t="+microTime()+"','',function(){pageInit('#mbox_page');});<\/script>";bootbox.dialog({message:b})}function hidePbox(){bootbox.hideAll()}function getQuery(a){if(location.href.indexOf("?")==-1||location.href.indexOf(a+"=")==-1){return""}var h=location.href.substring(location.href.indexOf("?")+1);var d=h.split("&");var g,f,c;for(var b=0;b<d.length;b++){g=d[b].indexOf("=");if(g==-1){continue}f=d[b].substring(0,g);c=d[b].substring(g+1);if(f==a){return unescape(c.replace("/+/g"," "))}}return""}function microTime(){return Math.round(new Date().getTime())}function secTime(){return Math.round(microTime()/1000)}function isValue(a){return a!="undefined"}function getLan(){mLan=getFileLan();mLan=mLan==""?"zh":mLan;return mLan}function showCodeBell(){$("#code_bell").addClass("icon-animated-bell");$("#code_badge").show()}function hideCodeBell(){$("#code_bell").removeClass("icon-animated-bell");$("#code_badge").hide()}function setLan(a){mLan=a;setFileLan(a)}function startLoading(){$("button").each(function(){if($(this).prop("class").indexOf("close")==-1){$(".loading-key").hide();$(this).isLoading()}})}function endLoading(){$("button").each(function(){$(this).isLoading("hide")});$(".isloading-wrapper").each(function(){$(this).hide()})}function jsonm(a,b,c,d){jsonp(a,function(g){var f="";try{if(g.data.length==0){g.empty=true}data=$(b).val();f=Mustache.to_html(data,g).replace(/^\s*/mg,"");$(c).html(f)}catch(j){e=j;f=e.toString();mbox($.t("message.templateError"))}try{var h=b+"Page";var i=c+"Page";if($(h).val()!=""&&$(i).prop("id")){data=$(h).val();f=Mustache.to_html(data,g).replace(/^\s*/mg,"");$(i).html(f)}}catch(j){e=j;f=e.toString();mbox($.t("message.templatePageError"))}$("input.par").click(function(){var k=$(this).prop("checked");$("input.sub").prop("checked",k);setCheckBoxId()});$("input.sub").click(function(){setCheckBoxId()});$("#main").i18n();$("a").tooltip();if(d){d(g)}})}function setCheckBoxId(){mIDBox="";$("input.sub").each(function(){if($(this).prop("checked")){mIDBox+=$(this).prop("value")+",";mID=$(this).prop("value")}})}function checkMID(){mID="";setCheckBoxId();if(mID==""){mbox($.t("operation.pleaseSelectRow"));return false}return true}function paramEncode(a){return encodeURIComponent(Base64.encode(a))}function jsonp(a,b){getServerUrl();a=a.indexOf("http")==0?a:mServerUrl+a;a=a.indexOf("?")!=-1?a+"&":a+"?";a=a+"_l="+getLan();log("UUrl:"+a);endLoading();startLoading();$.ajax({url:a,dataType:"jsonp",jsonp:"callback",timeout:15000,success:function(c){endLoading();if(b){b(c)}},error:function(d,c){msg="";if(d.status===0){msg="Not connect.\n Verify Network."}else{if(d.status==404){msg="Requested page not found. [404]"}else{if(d.status==500){msg="Internal Server Error [500]."}else{if(c==="parsererror"){msg="Requested JSON parse failed."}else{if(c==="timeout"){msg="Time out error."}else{if(c==="abort"){msg="Ajax request aborted."}else{msg="Uncaught Error.\n"+d.responseText}}}}}}if(msg!=""){mbox($.t("message.networkError"))}endLoading()}})}function one(b,a){setTimeout(function(){b()},a*1000)}function isFunction(a){return a=="function"}function toJson(value){try{return eval("("+value+")")}catch(e){return""}}function removeHightcharts(){$("svg > text").each(function(){if($(this).text()=="Highcharts.com"){$(this).text("")}});$(".highcharts-button").each(function(){$(this).hide()})}var loadTimes=0;function loadHtml(b,d,a){d=!d?"":d;a=!a?"":"#"+a;var c=d==""?b:d;nowPage="";$(".tooltip-arrow").hide();$(".tooltip-inner").hide();$("#mainMenu li").each(function(){$(this).attr("class","")});$("#main_"+b).attr("class","active");if(d!=""){$("#child_"+d).attr("class","active")}$(".main-content").load(c+".html"+a+"?_t="+microTime(),"",function(){pageInit()});loadTimes++;if(isValue(typeof Qt)){Qt.clearMemory()}if(loadTimes>100){reloadMain()}}function reloadMain(){location.reload(true)}var checkTouchTime=secTime()+10;function touch(b,a){if(typeof a=="undefined"){a=10}a=a<3?3:a;$(".page-content").mousemove(function(){if(secTime()<checkTouchTime){return}checkTouchTime=secTime()+a;b()})}function tbox(a){data=$.t(a);mbox(data)}function mconfirm(b,a){bootbox.confirm(b,function(c){if(c){a()}})}function mbox(b,a){b=!b?"":b;a=!a?5:a;$.gritter.add({title:$.t("message.tip"),text:b,time:a*1000,class_name:"gritter-info"})}function loadMenu(c,f){var a="";for(var d in c){a+='<li id="main_'+c[d].id+'" class="'+(c[d].id=="index"?"active":"")+'"><a href="'+(c[d].children?"#":"javascript:loadHtml('"+c[d].id+"','"+c[d].id+"');")+'" '+(c[d].children?' class="dropdown-toggle"':"")+'><i class="'+c[d].icon+'"></i><span class="menu-text"> '+c[d].name+" </span>"+(c[d].children?'<b class="arrow fa fa-angle-down"></b>':"")+'</a><b class="arrow"></b>';if(c[d].children){a+='<ul class="submenu">';for(var b in f){if(f[b].id==c[d].id){a+='<li id="child_'+f[b].method+'" class=""><a href="javascript:loadHtml(\''+c[d].id+"','"+f[b].method+'\');"><i class="menu-icon fa fa-caret-right"></i> '+f[b].name+' </a><b class="arrow"></b></li>'}}a+="</ul>"}a+="</li>"}$("#mainMenu").html(a)}function readCodeType(b){b=b.split("_");var a=new Array;if(b.length==2){if(intval(b[1])!=0){a={type:b[0],id:b[1]}}}return a}function codePage(){var a=getCodeFile();mCodeValue="";$.each(a,function(b){var c=readCodeType(b);if(c.id){mCodeName=b;mCodeValue=getFile(getCodeDir()+mCodeName+"_code");pbox("code_"+c.type);return false}});mbox($.t("message.noCode"))}function intval(a){a=parseInt(a);return a=isNaN(a)?0:a}function dump(b){var a=dumpObj(b);alert(a)}function dumpObj(g,c,a,h){c=isValue(typeof c)?c:"";a=isValue(typeof a)?a:"";if(h>10){return a+c+": <Maximum Depth Reached>\n"}if(typeof g=="object"){var i=null;var b=a+c+"\n";a+=" ";for(var d in g){try{i=g[d]}catch(f){i="<Unable to Evaluate>"}if(typeof i=="object"){b+=dumpObj(i,d,a,h+1)}else{b+=a+d+": "+i+"\n"}}return b}else{return g}}function formEnter(a,b){a+=" input";$(a).each(function(){$(this).keydown(function(c){if(c.keyCode==13){b()}})})}function t(a){return $.t(a)}function buttonSubmit(){}function jsonToUrlParam(d,b,a){var c="";if(d instanceof String||d instanceof Number||d instanceof Boolean){c+="&"+b+"="+encodeURIComponent(d)}else{$.each(d,function(g){var f=b==null||b===undefined?g:b+(d instanceof Array?"["+g+"]":"."+g);c+="&"+jsonToUrlParam(this,f)})}if(a){return c.substr(a)}return c};