(function(g,c,j,f){function h(e,i){this.element=e;this.options=g.extend({},d,i);this._defaults=d;this._name=b;this._loader=null;this.init()}function a(){g[b]||(g.isLoading=function(e){g("body").isLoading(e)})}var b="isLoading",d={position:"right",text:"","class":"fa fa-refresh",tpl:'<span id="isloading" class="loading-key isloading-wrapper %wrapper%""">&nbsp;&nbsp;&nbsp;<img src="assets/images/load.svg" />&nbsp;&nbsp;</span>',disableSource:!0,disableOthers:[]};h.prototype={init:function(){g(this.element).is("body")&&(this.options.position="overlay");this.show()},show:function(){var t=this,p=t.options.tpl.replace("%wrapper%"," isloading-show  isloading-"+t.options.position);p=p.replace("%class%",t.options["class"]);p=p.replace("%text%",t.options.text!==""?t.options.text+" ":"");t._loader=g(p);g(t.element).is("input, textarea")&&!0===t.options.disableSource?g(t.element).attr("disabled","disabled"):!0===t.options.disableSource&&g(t.element).addClass("disabled");switch(t.options.position){case"inside":g(t.element).html(t._loader);break;case"overlay":var l=null;if(g(t.element).is("body")){l=g('<div class="isloading-overlay" style="position:fixed; left:0; top:0; z-index: 10000; background: rgba(0,0,0,0.5); width: 100%; height: '+g(c).height()+'px;" />');g("body").prepend(l);g(c).on("resize",function(){l.height(g(c).height()+"px");t._loader.css({top:g(c).height()/2-t._loader.outerHeight()/2+"px"})})}else{var m=g(t.element).css("position"),q={},k=g(t.element).outerHeight()+"px",e="100%";"relative"===m||"absolute"===m?q={top:0,left:0}:q=g(t.element).position();l=g('<div class="isloading-overlay" style="position:absolute; top: '+q.top+"px; left: "+q.left+"px; z-index: 10000; background: rgba(0,0,0,0.5); width: "+e+"; height: "+k+';" />');g(t.element).prepend(l);g(c).on("resize",function(){l.height(g(t.element).outerHeight()+"px");t._loader.css({top:l.outerHeight()/2-t._loader.outerHeight()/2+"px"})})}l.html(t._loader);t._loader.css({top:l.outerHeight()/2-t._loader.outerHeight()/2+"px"});break;default:g(t.element).after(t._loader)}t.disableOthers()},hide:function(){if("overlay"===this.options.position){g(this.element).find(".isloading-overlay").first().remove()}else{g(this._loader).remove();g(this.element).text(g(this.element).attr("data-isloading-label"))}g(this.element).removeAttr("disabled").removeClass("disabled");this.enableOthers()},disableOthers:function(){g.each(this.options.disableOthers,function(e,k){var i=g(k);i.is("button, input, textarea")?i.attr("disabled","disabled"):i.addClass("disabled")})},enableOthers:function(){g.each(this.options.disableOthers,function(e,k){var i=g(k);i.is("button, input, textarea")?i.removeAttr("disabled"):i.removeClass("disabled")})}};g.fn[b]=function(e){return this.each(function(){if(e&&"hide"!==e||!g.data(this,"plugin_"+b)){g.data(this,"plugin_"+b,new h(this,e))}else{var i=g.data(this,"plugin_"+b);"hide"===e?i.hide():i.show()}})};a()})(jQuery,window,document);